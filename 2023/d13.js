const input = `#....#.
#....##
.####..
.####..
#....##
#.##.#.
.####.#

.#...####.##..#
..#.###...#.##.
..#.###...#.##.
.#...####.##..#
.####..##.##..#
.####.#.###.##.
####..#.#######
#.......####..#
####.#.#.......
..#....##.#####
.##.##...##.###
..#.#.#.##.....
.....##.#..####
##..#.###..####
.##..#...######

..#..#.
#....#.
...##..
.##.#..
.####..
..#.#.#
....###
#..#.#.
#..#.#.
....###
..#.#.#
.####..
.##.#..

##.###...#.##
##.###...#.##
###.#####..##
##....#.##.##
#....#.#.####
.#....###....
#....#...####
.##.##.####..
..#.##.###.#.

#.#...#...##...##
#.#...#...##...##
#....##....#.....
##...##...##.##..
#..##..####....##
.....#.##..#.###.
#.......###..#...
..####.#.#.###..#
#..###.#.#.#####.
.....#.###....###
.....#.####...###

##....##.
##.##.###
.#.##.#.#
..#..#..#
........#
........#
..#..#..#
.#.##.#.#
##.##.###
##....##.
.##..#...

##..#..
...####
..#...#
..###..
##.####
##.#.#.
......#
....#.#
##.#.#.

##.#.##.#
...#..#..
.##...#..
.##...#..
.#.#..#..
##.#.##.#
.#...####
..#.#..##
...#...##
.#....#.#
.#....#.#

#.######.#..###
.#..##....#..##
####..####.##..
###.##.####....
####..#######..
.#......#.#.#..
.#......#..#...
#..#..#..#...##
#.#.##.#.##.###

.......##
#####.#..
#..##.#..
#######.#
....#####
.##......
####.#...
######.##
.....####
#..#.#...
.##.#..##

#.######.#.#.
##.##.###...#
#.....#....##
.#.......###.
.#.......###.
##....#....##
##.##.###...#
#.######.#.#.
#.#.##.#.#.##
..#.########.
..#.########.
#.#.##.#.#.##
#.######.#.#.

#.#.##.
..##..#
.#.##..
#..##.#
#...#.#
....##.
.#..##.
..#.#.#
..#.#.#
.#..##.
....##.
#...#.#
#..##.#

...#..#.##..#
..#.#..#.####
..#.#..#.####
...#..#.##..#
###..#..###..
...##....####
##..#..####..
##..#.##....#
#..#..#.#.#.#
##...#..#...#
...###..#.###

.##..#.##
##.###.##
##.###...
##..#.###
..#.#..##
##.###...
...######
###..####
..#...#..
..#....##
..####.##

......###..##
###.######.#.
..###...#..##
...##..#.....
...##.##.####
###..#.##.#.#
###..#.##.#.#
...##.##.####
...##..#....#
..###...#..##
###.######.#.

#..#.####
.#.#.###.
.###.###.
#..#.####
#...#...#
#...#...#
#..#.####

#.#...##.
##.##....
..#.##..#
..#.#.##.
#.##.#.##
###.##..#
####.....
##..#....
##.##....
##.##....
##..#....
####.....
###.##..#

#.#.#.##.
...#.#.##
...###.##
#.#.#.##.
#####..##
.#..##..#
####.#.##
....#.##.
.#...#.#.
.####.#.#
#..#.#.#.
..######.
..#..#...
#.#.#####
#.#.#####

.#.######
#...#....
#....####
#....####
#...#....
.#.######
##...#..#
###..#...
#.#.#####
..#.#....
.#.#..##.
.##.#....
.####.##.
#.##.####
#..######

###....###...
...#..#....#.
..........###
.###..###.#.#
...#..#...###
###.##.####..
###.##.###..#
#.#....#.#.#.
...####.....#
##......####.
##......##.#.
#.#.##.#.##..
#.##..##.#.##
#.#....#.#.##
#.#.##.#.##..
##......##.#.
##......####.

#...#.##..###
.#.#####.####
#..#..#######
#....##..#.##
.#.###..##.##
.##...##.....
.##.####.####
.##.####.####
.##...##.....
.#.###..##.##
##...##..#.##
#..#..#######
.#.#####.####

..#..####
#...#..#.
..#.##.#.
.#####...
#.##....#
#.##....#
.#####...
..#.##.#.
#...#..#.
..#..####
..##.####

.#.#.#..##.##
.#.####.....#
..##......#..
###.#..##..##
###.#..##..##
..##.#....#..
.#.####.....#
.#.#.#..##.##
.#.#.#..##.##

....#...###....##
.#.#..##..##..###
.#.#..##..##..###
....#...####...##
####.#..#...##...
......#.#..##...#
#....##.#.##...##
#..####.#....##.#
#..####.#....##.#
#....##.#.##...##
......#.#..##...#

#.#.#.#.##.##
#.#.#.#.##.##
.#..#.#.##.##
####.##.#...#
.###.##..###.
.###.#.#.##.#
#......##.##.
.##.#..###.##
####....####.
####....####.
.##....###.##
#......##.##.
.###.#.#.##.#

######.......
######.......
......#######
#####.##.#..#
####..#..#.##
##..##..#####
##..#####.###
#..#...##.#..
.###.##..#.##

#....##..
#######.#
#....#.##
.#..#..#.
##..##.#.
##..###..
##..###..
#....###.
......#.#
##..##...
##..##...
......#.#
#....#.#.

.........####
#..##..#.#...
.........#...
........##...
.#.##.#..####
#......######
#.####.#.####
.#....#.#.#..
...##....##..
#.#..#.##..##
#..##..#.....
.........#...
..#..#.......
.######.##.##
##....#.#....

....########.....
#..##......##..#.
#..##......##..#.
....########.....
..#.#..##..#.#..#
###.#......#.###.
#..#.##..##.#..#.
.....#...##......
#...###..###...#.
...##########...#
......####.......
...#...##...#....
##..########..##.

#..#####..#
###.#######
######.....
....#.#####
........##.
#..#..#.##.
######.#..#

###.###
##.#.#.
##.###.
..##.#.
...#...
####.#.
..#...#
######.
##....#
..####.
##.#...
##.###.
..#####
..##.#.
###..##
###..#.
..##.#.

.#.##.#.#
...#.....
...#.....
.#.##.#.#
.#.#.#..#
..#..#.#.
#..##.##.
.#.#..##.
##.....#.
###.#...#
###.#...#
##.#...#.
.#.#..##.
#..##.##.
..#..#.#.

...#.#..#
###.#####
.#.#.....
###.##..#
.##.#.##.
.#.#.#..#
.#...#..#
###..####
###.#....
###.#....
###..####
.#...#..#
.#.#.#..#
.#..#.##.
###.##..#

..#..#...#.
##....##...
.##..##.#.#
#......#.#.
##....###.#
#.#..#.##.#
.#.##.#..#.
#.####.#..#
#.####.#.##

#.##.##
.#..#..
#.##.##
.####..
..##.##
.####..
##..###
.####..
#....##
.#..#..
..##...

..#.#.#..
#...#..#.
#...#..#.
..#.#.#.#
..#.#.#.#
#...#..#.
#...#..#.
..#.#.#..
.###.....
.####.###
..#.###..
...#.#...
#.##....#
..####...
#####..#.
.#.##.#..
##..##.#.

.###.###..##...##
...####..#.##..#.
..#.#..##...###.#
#..#.##..####...#
.#..###...#.##.#.
.##..##.#.##.#.##
.##..##.#.##.#.##
.#..###...#.##.#.
#..#.##..####...#
..#.#..##...###.#
...####..#..#..#.
.###.###..##...##
..####...#..####.
..####...#..####.
.###.###..##...##

..##..###
##..##.#.
#######..
......#..
..##...##
#.##.##.#
......###

#######.#.###.##.
..##....##..#.#..
..##....##..#.#..
#########.###.##.
#..#####........#
.#....###.####...
.....####.##..#..
#..#.#.##...#....
#..#.#.##...#....

########.####..
#......#.#..###
#......#.#..###
########.####..
#.#.#.####..#..
..#...##...####
##...#.#..#.###
#.#.#.#......##
.##....##...###
####..#.##.###.
.#..###.#..#.##

.####....
.#...#.#.
.#...#.#.
.####....
##.#...##
#.##....#
#..#..#..
###..###.
###.###..
#.###.#.#
#.###.#..

##..##.#.
.####.###
#....###.
.......##
#.##.#..#
##..###..
......##.
.####.###
##..##...
#....###.
##..###..
#.##.#..#
#.##.#.##

#.....#..##
#.....#..##
.#.#..###..
..#.#..##.#
..##.######
#...#...#..
#.##.#.....
...###.#...
#.#...#.###
..#.##.#...
#..#.###.##
.##...##...
#.#..##..##
###.#######
..###...#..
..#.##.##..
##..##...##

#..##..
..#.##.
#.#.#..
#.#.#.#
..#.##.
#..##..
.#...#.
.###..#
.###..#

..##....#..##.###
.####....#.##..#.
.####....#.#...#.
..##....#..##.###
.......#.##.#####
.####....#####.##
##..##.###...##..
.......##...#.#.#
##..##..####....#
.####..##.##.####
########......###
.#..#...#.#.###.#
#.##.###.##......
..##...#.##.##...
#.##.##.#.#...#.#

#.#.#.###
..##....#
..#..#...
###.#.##.
.####....
#.####.#.
##.####..
..###.###
..##..###
#..####..
#..####..
..##..###
..###.###

.#.....
#..####
.##.##.
###.###
.....##
.....##
###.###
.##.##.
#..####
.#...#.
.#...#.
#..####
.##.##.

....##....#.##...
#........##......
..#.##.#...#...##
##......##.###.##
##.####.##...####
..##..##......#..
##.#..#..#..#..##
..#....#..###.###
.#......#..##.#..

#..#..###...#
#.#.##.######
#.#.##.######
#..#..###...#
####..#..##..
...#.#.#..##.
#...#.##...##
###.###.##..#
#..##.#...#..
#..##.#...#..
###.###.##..#
#...#.##...##
.#.#.#.#..##.

###.#.####.
####.#####.
##########.
###.#.####.
....#.#.#.#
...#.......
....#.#####
#####.#.##.
##.....###.
....#...#.#
##.#.##.#..
##.....####
..#.#...#.#
##......#..
.....#.#.#.

###....#..##.
####...#..##.
###.......#..
#..##....##..
##.##...#..#.
.#...#.##..#.
.#...####..#.
#...#..##.###
##..######.##
#.##.........
####..##.##.#
###...##.###.
###...##.###.

.#..###..##..
.#..###..##..
###....#....#
...#.####.#..
#.#..###...#.
..#.##.#.##..
..#.#..#.##..
#.#..###...#.
...#.####.#..
###....#....#
.#..###..##..

#..####..##
.########..
.#..##..#..
####..#####
..#....#...
.#.####.#..
#..####..##
#...##...##
.###..###..
.#.#..#.###
.#.####.#..

.#..##.
.#..##.
##.#.##
##.##.#
.....##
#.#.#.#
.#.###.
.#.###.
###.#.#
.....##
##.##.#
##.#.##
.#..##.

#.....#..#.
####.#....#
.##...#..#.
#...#.#..#.
#.###..##..
##.#...##..
###.#..##..
#.#.###..##
###...#..#.
.##.#......
.####......

###.###..##
###.###..##
##.#..##.#.
.#.#.#.#..#
..#....#.##
###.##..#.#
......#####
..###....#.
#.......#..
#.#.#.###..
.#.##.###..
..#.#....##
###..###...
#...##.##.#
#...##..#.#

####..######..#
.###..#.##.#..#
....##..##..##.
#.#....#..#....
..##..#.##.#..#
#.##..#.##.#..#
#...#..#..#..#.
####..##..##..#
.###..######..#

.#.####.#..
.########..
.##.#..##..
#.#....#.##
#..#..#..##
#.#.##.#.##
.###..###..
#.#.##.#.##
..##..##...
.#.#..#.#..
.###..###..

####.##
.#....#
##.#.#.
..##.##
...#.##
#####..
.#.####
.#.####
#####..
...#.##
..##.##

#..####
.###.##
#..##..
#..####
.#...##
.###.##
####.##

.........##....
###..####..####
.#....#..##..#.
.##..##.####.##
.##..##......##
..####...##...#
.######......##
##.##.###..###.
.##..##.#..#.##
#..#...######..
..####........#
.##..##.####.##
.######..##..##

....#.##.##..
#.##.#.......
#..##.#.#.###
.##....###.##
#..###..#...#
....###.#####
#..##....##.#
####.#...####
.##.##...##.#
.##.##...##.#
####.#...####

#......##
.#.######
##.#.#...
#.###.###
..#####..
#......##
#......##
..#####..
#.###.###
##.#.#...
.#.######
#....#.##
##.#.####

###....#.
#..####.#
....##.##
.##.##.#.
.##.#...#
.##....##
.......#.
.......##
.##.##...
####...#.
.##.#.#..
.##..###.
.##..###.

#.##..#..#.
....###..##
#.#....##..
##.##..##..
##.#.#....#
..#...####.
..#...####.
##.#.#....#
##.##..##..
#.#....##..
....###..##
#.##..#..#.
.#.##.#####
#....##..##
..#.###..##

..#..##.#
....####.
...#...#.
#..##..#.
.#.##...#
#.#.#....
#...#.###
#..##.###
#.#.#....
..##.##..
....#####
....#####
..##.##..
#.#.#....
#..##.###
#...#.###
#.#.#....

##########...
###...#..#...
###.#.#..#...
##########...
##.#######.##
##.....#...#.
#####..#..##.
##.###.......
...#..##.#..#
..##...##.##.
####.#.#.##..

####.###..#
####.##.#.#
....###..##
##...#.#.#.
###.#..#..#
###.#..#..#
##...#.###.

..###...##...
...##.######.
##..###....##
...#.#......#
...###......#
##.###.####.#
.#....######.
.....#..##..#
..###########
###.#.######.
###..#......#

###.###.###...##.
##.##.######..##.
.#####..#.#.##..#
.##.#..##.##.####
..##..##.#...####
.###..##.#...####
.##.#..##.##.####
.#####..#.#.##..#
##.##.######..##.

....##.
#.#.#.#
..##...
.#.#.##
.#.#.##
..##...
#.#.#.#
....##.
##..#..
.#..#..
....##.

..###......
.#.##...##.
##.#..###..
##.#..###..
.#.##...##.
..###..#...
..####..#.#
.##...#...#
.##...#...#
..####..#.#
..###..#...
.#.##...##.
##.#..###..

..##..#.#..#.#.
##..#####..####
##..####....###
.#..#..######..
##..####....###
.#..#.########.
##..##........#
..##....####...
#.##.#.#.##.#.#
######.#....#.#
.####....##..#.
.......#....#..
.####.#.#..#.#.

..#...#######
.#..##..####.
....#..#.##.#
.....##.####.
#...##.......
##..##.######
#.#.#....##..
.###.##.#..#.
.##..#.#.##.#
.##..###.##.#
.###.##.#..#.

.###..#...##..###
##...#.#.#....#..
##...#.#.#....#..
.###..#...##..###
#.###..##....#..#
#..##.#######.#.#
..####..#.####...
.#...#.##...##.#.
.#...#.##...##.#.
..####....####...
#..##.#######.#.#
#.###..##....#..#
.###..#...##..###

####.#...
.....####
#######.#
....#...#
.....#.##
....##.##
####.#..#
....#.#.#
.....#...
.....###.
......###
.##...#.#
....#..##

##.#.######.#
....#..#..##.
..#####.###.#
###.###..#.##
###.####.####
..#.##.#..#.#
#####...#..##
####.#....#.#
###..#....#.#
#####...#..##
..#.##.#..#.#
###.####.####
###.###..#.##

.#.#..##..#.#..
..###.....##...
...###..###....
#.##......##.##
.##........##..
.#...#..#...#..
####.#..#.#####
##.###..###.###
.#.#.#..#.#.#..
.#.#.####.#.#..
....######.....
.###..##..###..
##..#.##.#..###
.##.######.##..
.#..........#..
##..######..###
.#..........#..

#.....#.###..
..##..##...#.
###.##.#..#..
.#.###.####.#
.#.###.######
.#.###.######
.#.###.####.#

##.##....##
##.##....##
#.###....##
##..#.##.#.
#.###.#####
.#.#.#..#.#
#.##.####.#
..##.#..#.#
###.##..##.
#...######.
##..#.##.#.
#....####..
....#....#.
.#.#..##..#
#...#....#.

#..####
#...###
.#..#..
#....##
.#.....
.##..##
..#.#..
.....##
#.##.##
.#.##..
.#.####
#....##
#..#...

##...#...
.###.##.#
#.###.#.#
###..####
###..####
#.###.#.#
.###.##.#
###..#...
###..#...
.###.##.#
#.###.#.#

....####..###
...#####..###
.#.#..######.
...##..#..#..
#.#####....##
#.....##..##.
#....########
.#.#....##...
....##..##..#
.##...######.
#.##.#.#..#.#
......######.
#...#...##...

##.#.#.#...
..#.###..##
##....#..##
#.#.##.##..
#.#.##.##..
##....#..##
..#.###..##
##.#.#.#...
.......###.
.......###.
.#.#.#.#...
..#.###..##
##....#..##

##.#..#
###...#
#...##.
##.....
..#....
.##....
##.####
##.####
.##....
..#....
##.....

#..##..##..#..#..
#.########.#..#.#
.#...##...#.##.#.
..###..###......#
.###.##.###.##.##
.#.######.#.##.#.
##..#..#..######.
.###.##.###.##.##
.#..#..#..#.##.#.
.#..####..#.##.#.
...#....#........
....#..#.........
....#..#.........
..##.....#......#
.#.#.##.#.#.##.#.
#.#..##..#.####.#
###..##..###..###

##.##.#######
..#.....#..#.
#.###....##.#
.##.###......
..#.###.#..#.
..#.###.#..#.
.##.###......

##..#..##..
###.#.#..#.
#.####....#
.....##..##
#####..##..
....#.#..#.
..##.######
##.##.####.
#.#.#..##..
.####.####.
#.....####.
#...#.####.
.####.####.
#.#.#..##..
##.##.####.

##.###....####.
####.#.###.##.#
.##.###....##..
.##.#.###.#..#.
.....###.######
......#.###..##
.##.##.#.......
#####..####..##
#..#...########
####.######..##
....#..########

..#..#.###..#
.###.#...#..#
..#.###.#####
.##..##.#.##.
.##..##.#.##.
..#.###.#####
.###.....#..#
..#..#.###..#
.#..##....##.
##.##.#...##.
#.##.#...####

..###.#####
.#.########
.#####..#.#
.#....##.#.
.#....##.#.
.#####..#.#
.#.########
#.###.#####
#.###.#####
.#.########
.#####..#.#

.#..#.#.#
......##.
##..##.#.
##..##...
......##.
.#..#.#.#
##..##..#
##..###..
######.##
#######..
#.##.###.

.######
#......
#......
.##..##
.##..##
#......
#.#..#.

.#.....
#.....#
..##.#.
#.##...
..####.
#.#.#..
#.#.#..
..####.
#.##...
..##.#.
#.....#
.#.....
...#...
...##..
#......
#......
.#.##..

.....#.
#.##...
#.##...
..#..#.
..#..#.
#.##...
#.##...
.....#.
##..#.#

...##....
#.#..##..
#..###.##
###......
.#..#..##
#....#...
.##.#####
..#......
.#.....##
#.#..#.##
..##.####
..###.###
..#.#.###

.##..#.###.##
.##..#.###.##
.#...#..##.##
...#.#.#.##..
#..####.#...#
#.##.#...##..
.##.#.#..#.#.
....#.#####..
#.##.###...#.
..###.#####.#
..###.#####.#
#.##.###...#.
....#.#####.#

.##.##.#.###.
#..##.##..#.#
#.#######.##.
.....#..###..
.#######.#.#.
.#####.#.#.#.
.....#..###..
#.#######.##.
#..##.##..#.#
.##.##.#.###.
##.#.###.####
##.#.###.####
.##.##.#.###.

###..###.
.#....#..
.#....#.#
.#....#.#
.#....#..
###..###.
.#....#..
##.##.###
...##....
########.
#.####.##
#.####.##
.######.#
..####...
.#.##.#.#
#......#.
..#####..

..#..#..###
#.#.#...###
#.#.#...###
..#..#..###
#...#..##..
#..##.#....
.#.###.#.##
#.....#....
##.##.##..#
#..##.##..#
#.....#....`

const input2 = `#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#`




function diffDistance (a, b) {
  if (a.length !== b.length) {
    throw new Error('length must be equal')
  }
  let d = 0
  for (let i = 0; i < a.length; i++) {
    if (a[i] !== b[i]) {
      d++
    }
  }
  return d
}

function getDiffDistanceForSymetryAt(strList, i){
  let a = strList.slice(0, i).reverse()
  let b = strList.slice(i)
  const minLen = Math.min(a.length, b.length)
  a = a.slice(0, minLen)
  b = b.slice(0, minLen)

  // console.log('check symetry at', i, a.join(' | '), '<>', b.join(' | '), diffDistance(a.join('\n'), b.join('\n')))
  
  return diffDistance(a.join('\n'), b.join('\n'))
}

function getHorizontalSymetryAxe(lines) {
  for( let i=1; i<lines.length; i++) {
    // if( getDiffDistanceForSymetryAt(lines, i) === 0) { //part1
    if( getDiffDistanceForSymetryAt(lines, i) === 1) { //part2
      return i
    }
  }
  return -1
}

function rotate2DArray(array2D) {
  const newArray2D = []
  for( let i=0; i<array2D.length; i++) {
    for( let j=0; j<array2D[0].length; j++) {
      newArray2D[j] = newArray2D[j] || []
      newArray2D[j][i] = array2D[i][j]
    }
  }
  return newArray2D.map(x => x.join(''))
}

const patternList = input.split('\n\n').map(x => x.split('\n'))


let sum = 0
for( const pattern of patternList ) {
  // console.log("-----------")
  // console.log(pattern.join('\n'))
  const horizontalAxe = getHorizontalSymetryAxe(pattern)
  if( horizontalAxe !== -1) {
    sum += horizontalAxe * 100
  }

  const rotatedPattern = rotate2DArray(pattern)
  // console.log(rotatedPattern.join('\n'))
  const verticalAxe = getHorizontalSymetryAxe(rotatedPattern)
  if( verticalAxe !== -1) {
    sum += verticalAxe
  }
}

console.log(sum)
